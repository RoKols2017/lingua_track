# Telegram Bot для LinguaTrack

Telegram-бот для взаимодействия с системой изучения слов LinguaTrack.

## Функции

- **Привязка аккаунта** — связывание Telegram ID с пользователем сайта
- **Просмотр карточек** — команда `/cards` показывает все карточки пользователя
- **Карточки на сегодня** — команда `/today` показывает карточки для повторения
- **Прогресс обучения** — команда `/progress` показывает статистику
- **Озвучка слов** — команда `/say слово` озвучивает слово
- **Тестирование** — команда `/test` запускает интерактивный тест

## Установка

1. **Установите зависимости:**
   ```bash
   pip install -r t_bot/requirements.txt
   ```

2. **Настройте переменные окружения:**
   Создайте файл `.env` в корне проекта:
   ```
   TELEGRAM_BOT_TOKEN=your_bot_token_here
   ```

3. **Получите токен бота:**
   - Напишите @BotFather в Telegram
   - Создайте нового бота командой `/newbot`
   - Скопируйте полученный токен в `.env`

## Запуск

```bash
python t_bot/run.py
```

## Команды бота

- `/start` — приветствие и начало работы
- `/help` — справка по командам
- `/cards` — показать все карточки
- `/today` — карточки на сегодня
- `/progress` — мой прогресс
- `/say слово` — озвучить слово
- `/test` — пройти тест

## Структура проекта

```
t_bot/
├── __init__.py          # Пакет бота
├── config.py            # Конфигурация и настройки
├── api_client.py        # Клиент для работы с Django API
├── handlers.py          # Обработчики команд
├── bot.py              # Основной файл бота
├── run.py              # Скрипт запуска
├── requirements.txt     # Зависимости
└── README.md           # Документация
```

## Интеграция с Django

Бот взаимодействует с Django-приложением через REST API:

- `POST /api/telegram/bind/` — привязка Telegram ID
- `GET /api/cards/` — получение карточек
- `GET /api/today/` — карточки на сегодня
- `GET /api/progress/` — прогресс пользователя
- `GET /api/tts/` — озвучка слова
- `POST /api/test/` — отправка результата теста

## Привязка аккаунта

1. Зарегистрируйтесь на сайте LinguaTrack
2. В профиле нажмите "Привязать Telegram"
3. Скопируйте magic-ссылку или отсканируйте QR-код
4. Перейдите по ссылке в Telegram
5. Бот автоматически привяжет ваш аккаунт

## Разработка

Для добавления новых команд:

1. Добавьте обработчик в `handlers.py`
2. Обновите `BOT_COMMANDS` в `config.py`
3. При необходимости добавьте методы в `api_client.py` 